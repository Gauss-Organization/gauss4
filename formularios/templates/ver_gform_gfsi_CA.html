{% load formularios_extras %}
<div class="row">
    <div class="columns large-12" style="color: lightgrey;"><p>Se utiliza para seleccionar una o varias
        fechas del calendario.</p></div>
</div>

<div class="row">
    <div class="columns large-5">
            <div class="row">
                <div class="columns large-12 medium-12 small-12">
                    <table id="table-simplecalendar{{ gfsi.id }}" class="table-simplecalendar" data-simplecalendar="{{ gfsi.id }}">
                        <thead>
                        <tr>
                            <th><a class="simplecalendar-btn btn-prev" data-simplecalendar="{{ gfsi.id }}"><i
                                    class="fa fa-arrow-left"></i></a></th>
                            <th class="monthtitle-simplecalendar" id="month{{ gfsi.id }}" colspan="5"></th>
                            <th><a class="simplecalendar-btn btn-next" data-simplecalendar="{{ gfsi.id }}"><i
                                    class="fa fa-arrow-right"></i></a></th>
                        </tr>
                        <tr>
                            <th class="day-title" title="Lunes">L</th>
                            <th class="day-title" title="Martes">M</th>
                            <th class="day-title" title="Miércoles">X</th>
                            <th class="day-title" title="Jueves">J</th>
                            <th class="day-title" title="Viernes">V</th>
                            <th class="day-title" title="Sábado">S</th>
                            <th class="day-title" title="Domingo">D</th>
                        </tr>
                        </thead>
                        <tbody id="tbody-month{{ gfsi.id }}">
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-1"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-2"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-3"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-4"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-5"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-6"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-7"></td>
                        </tr>
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-8"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-9"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-10"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-11"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-12"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-13"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-14"></td>
                        </tr>
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-15"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-16"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-17"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-18"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-19"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-20"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-21"></td>
                        </tr>
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-22"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-23"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-24"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-25"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-26"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-27"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-28"></td>
                        </tr>
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-29"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-30"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-31"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-32"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-33"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-34"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-35"></td>
                        </tr>
                        <tr>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-36"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-37"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-38"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-39"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-40"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-41"></td>
                            <td class="day-month{{ gfsi.id }}" id="day-month{{ gfsi.id }}-42"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
    </div>
    <div class="columns large-7">
        <p style="font-weight: bold">Fechas seleccionadas:</p>
        <div id="list_selected_days{{ gfsi.id }}"></div>
    </div>

</div>

<script>
    setTimeout(function () {
        selecteddates[{{ gfsi.id }}] = {};

        buildCalendar(new Date(), {{gfsi.id}});
        {# Select a day of the calendar #}
        $('#table-simplecalendar{{gfsi.id}}').on('click', '.day', function (e) {
            e.preventDefault();
            console.log('fasdf');
            var simplecalendar = $(this).data('simplecalendar');
            $(this).toggleClass('dayselected-simplecalendar' + simplecalendar).toggleClass('dayselected-simplecalendar');
            let date = $(this).data('date');
            if ($(this).hasClass('dayselected-simplecalendar')) {
                selecteddates[{{ gfsi.id }}][date] = date;
            } else {
                delete selecteddates[{{ gfsi.id }}][date];
            }
            set_selecteddates(simplecalendar);
        });
    }, 400);
</script>