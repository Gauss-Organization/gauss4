{% load contabilidad_extras %}
{% if numero < 6 %}
    {% for no_exento in politica|no_exentos:numero %}
        {#        &nbsp;<span class="radius label">{% autoescape off %}{{ no_exento }}{% endautoescape %}</span>#}
        <span class="radius label"><span title="{{ no_exento.title }}" style="{{ no_exento.estilo }}"
        >{{ no_exento.concepto }} {{ no_exento.deudor }} ({{ no_exento.cantidad }})</span></span>
{#        {% if forloop.last and politica|number_no_exentos > numero %}#}
            {% if forloop.last %}
            &nbsp;<span class="secondary radius label">
            <a class="mostrar_no_exentos" data-id="{{ politica.id }}">
                ... (mostrar todos)
            </a></span>
        {% endif %}
    {% endfor %}
{% else %}
    {% for no_exento in politica|no_exentos:1000 %}
{#        &nbsp;<span class="radius label">{% autoescape off %}{{ no_exento }}{% endautoescape %}</span>#}
        <span class="radius label"><span title="{{ no_exento.title }}" style="{{ no_exento.estilo }}"
        >{{ no_exento.concepto }} {{ no_exento.deudor }} ({{ no_exento.cantidad }})</span></span>
        {#        {% if forloop.last and forloop.counter > 10 %}#}
        {% if forloop.last %}
            &nbsp;<span class="secondary radius label">
            <a class="ocultar_no_exentos" data-id="{{ politica.id }}">
                ... (ocultar)
            </a></span>
        {% endif %}
    {% endfor %}
{% endif %}
