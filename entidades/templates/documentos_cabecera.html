<!DOCTYPE HTML>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <script>
        function subst() {
            var vars = {};
            var query_strings_from_url = document.location.search.substring(1).split('&');
            for (var query_string in query_strings_from_url) {
                if (query_strings_from_url.hasOwnProperty(query_string)) {
                    var temp_var = query_strings_from_url[query_string].split('=', 2);
                    vars[temp_var[0]] = decodeURI(temp_var[1]);
                }
            }
            var css_selector_classes = ['page', 'frompage', 'topage', 'webpage', 'section', 'subsection', 'date', 'isodate', 'time', 'title', 'doctitle', 'sitepage', 'sitepages'];
            for (var css_class in css_selector_classes) {
                if (css_selector_classes.hasOwnProperty(css_class)) {
                    var element = document.getElementsByClassName(css_selector_classes[css_class]);
                    for (var j = 0; j < element.length; ++j) {
                        element[j].textContent = vars[css_selector_classes[css_class]];
                    }
                }
            }
        }
    </script>
</head>
<body style="border:0; margin: 0;" onload="subst()">
<div id="cabecera">
    {% autoescape off %}
        {{ cabecera }}
    {% endautoescape %}
</div>
</body>
</html>

{#<div id="pdfkit_page_current"></div>#}
{#<div id="pdfkit_page_count"></div>#}
{#</body>#}
{#</html>#}

{# https://stackoverflow.com/questions/7174359/how-to-do-page-numbering-in-header-footer-htmls-with-wkhtmltopdf #}

{#<script>#}
{#    var pdfInfo = {};#}
{#    var x = document.location.search.substring(1).split('&');#}
{#    for (var i in x) {#}
{#        var z = x[i].split('=', 2);#}
{#        pdfInfo[z[0]] = unescape(z[1]);#}
{#    }#}
{##}
{#    function getPdfInfo() {#}
{#        var page = parseInt(pdfInfo.page) + 16 || 1;#}
{#        var pageCount = parseInt(pdfInfo.topage) + 16 || 1;#}
{#        document.getElementById('pdfkit_page_current').textContent = page;#}
{#        document.getElementById('pdfkit_page_count').textContent = pageCount;#}
{#    }#}
{#</script>#}
